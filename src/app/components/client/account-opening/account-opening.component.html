<div class="container mt-5">
  <h2 class="text-center mb-4">Ouverture d'un compte de paiement</h2>
  <mat-vertical-stepper linear>
    <form (ngSubmit)="onSubmit()" #accountForm="ngForm">
      <!-- Step 1 -->
      <mat-step [stepControl]="accountForm.form.controls['accountType']">
        <ng-template matStepLabel>Selectionner un produit</ng-template>
        <mat-form-field color="primary" appearance="outline" class="full-width">
          <mat-label margin-bottom="4px">Selectionner un produit</mat-label>
          <mat-select
            id="accountType"
            [(ngModel)]="model.accountType"
            name="accountType"
            required
            style="margin-top:5px"
          >
            <mat-option value="hssab1">Hssab 1 - Plafond : 200 DH</mat-option>
            <mat-option value="hssab2">Hssab 2 - Plafond : 2000 DH</mat-option>
            <mat-option value="hssab3">Hssab 3 - Plafond : 2000 DH</mat-option>
          </mat-select>
        </mat-form-field>
        <div>
          <button mat-button matStepperNext color="accent" ><mat-icon>arrow_forward</mat-icon>Suivant</button>
        </div>
      </mat-step>

      <mat-step [stepControl]="accountForm.form.controls['lastname']">
        <ng-template matStepLabel>Informations personnelles</ng-template>
        <div class="form-row">
          <mat-form-field color="primary" appearance="fill" class="col-md-6">
            <mat-label>Nom</mat-label>
            <input
              matInput
              type="text"
              id="lastname"
              [(ngModel)]="model.lastname"
              name="lastname"
              required
            />
          </mat-form-field>
          <mat-form-field appearance="fill" class="col-md-6">
            <mat-label>Prénom</mat-label>
            <input
              matInput
              type="text"
              id="firstname"
              [(ngModel)]="model.firstname"
              name="firstname"
              required
            />
          </mat-form-field>
        </div>
        <div>
          <button mat-button matStepperPrevious>Précédent</button>
          <button mat-button matStepperNext color="accent" ><mat-icon>arrow_forward</mat-icon>Suivant</button>
        </div>
      </mat-step>

      <!-- Step 3 -->
      <mat-step [stepControl]="accountForm.form.controls['phone']">
        <ng-template matStepLabel>Contact</ng-template>
        <div class="form-row">
          <mat-form-field appearance="fill" class="col-md-6">
            <mat-label>Téléphone</mat-label>
            <input
              matInput
              type="number"
              id="phone"
              [(ngModel)]="model.phone"
              name="phone"
              required
            />
          </mat-form-field>
          <mat-form-field appearance="fill" class="col-md-6">
            <mat-label>Email</mat-label>
            <input
              matInput
              type="email"
              id="email"
              [(ngModel)]="model.email"
              name="email"
              required
            />
          </mat-form-field>
        </div>
        <div>
          <button mat-button matStepperPrevious>Précédent</button>
            <button
              mat-button
              color="accent"
              mat-flat-button
              (click)="onSubmit()"
            >
              Register
          </button>
        </div>
      </mat-step>
    </form>
  </mat-vertical-stepper>
</div>
